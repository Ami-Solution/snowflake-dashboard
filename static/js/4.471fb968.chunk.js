webpackJsonp([4],{756:function(t,e,n){"use strict";function o(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function o(r,a){try{var u=e[r](a),s=u.value}catch(t){return void n(t)}if(!u.done)return Promise.resolve(s).then(function(t){o("next",t)},function(t){o("throw",t)});t(s)}return o("next")})}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function u(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(265),i=n.n(s),l=n(1),c=n.n(l),p=n(26),f=n(28),d=(n.n(f),n(46)),h=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),m=function(t){function e(t){var n=this;r(this,e);var u=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return u.getCurrentStatus=function(){u.props.resolverContract.methods.getStatus(u.props.hydroId).call().then(function(t){u.setState({currentStatus:t})})},u.lookupStatus=o(i.a.mark(function t(){var e;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.props.snowflakeContract.methods.getDetails(u.state.lookupHydroId).call().then(function(t){return 0!==t.ownedAddresses.length});case 2:e=t.sent,e?u.props.resolverContract.methods.getStatus(u.state.lookupHydroId).call().then(function(t){""===t?u.setState({lookupStatus:"Hydro ID has not added the Status Resolver"}):u.setState({lookupStatus:t})}):u.setState({lookupStatus:"Hydro ID does not exist"});case 4:case"end":return t.stop()}},t,n)})),u.state={currentStatus:"",newStatus:"",lookupStatus:"",lookupHydroId:""},u}return u(e,t),h(e,[{key:"componentDidMount",value:function(){this.getCurrentStatus()}},{key:"render",value:function(){var t=this;return c.a.createElement("div",null,c.a.createElement(p.s,{variant:"display1",gutterBottom:!0,align:"center",color:"textPrimary"},this.state.currentStatus),c.a.createElement("form",{noValidate:!0,autoComplete:"off"},c.a.createElement(p.q,{label:"New Status",helperText:"This will be public.",margin:"normal",value:this.state.newStatus,onChange:function(e){return t.setState({newStatus:e.target.value})},fullWidth:!0}),c.a.createElement(d.a,{buttonInitial:"Set New Status",method:this.props.resolverContract.methods.setStatus(this.state.newStatus),onConfirmation:function(){t.getCurrentStatus()}})),c.a.createElement("hr",{style:{marginTop:30,marginBottom:30}}),c.a.createElement(p.s,{variant:"display1",gutterBottom:!0,align:"center",color:"textPrimary"},this.state.lookupStatus),c.a.createElement("form",{noValidate:!0,autoComplete:"off"},c.a.createElement(p.q,{label:"Hydro Id",helperText:"View a Hydro ID's status.",margin:"normal",value:this.state.lookupHydroId,onChange:function(e){return t.setState({lookupHydroId:e.target.value})},fullWidth:!0}),c.a.createElement(p.a,{variant:"contained",color:"primary",onClick:this.lookupStatus},"Lookup")))}}]),e}(l.Component);e.default=Object(f.withWeb3)(m)}});
//# sourceMappingURL=4.471fb968.chunk.js.map