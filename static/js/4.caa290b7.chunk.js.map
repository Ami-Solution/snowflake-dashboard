{"version":3,"sources":["components/resolvers/components/0x5051893c1ADdCa3176BA12606F9B006b5214bf51.js"],"names":["ResolverView","props","_this","Object","_home_travis_build_NoahHydro_snowflake_dashboard_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","this","_home_travis_build_NoahHydro_snowflake_dashboard_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__","_home_travis_build_NoahHydro_snowflake_dashboard_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__","call","getCurrentStatus","resolverContract","methods","getStatus","hydroId","then","status","setState","currentStatus","lookupStatus","_home_travis_build_NoahHydro_snowflake_dashboard_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","_home_travis_build_NoahHydro_snowflake_dashboard_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","mark","_callee","wrap","_context","prev","next","snowflakeContract","getDetails","state","lookupHydroId","details","ownedAddresses","length","sent","stop","newStatus","_this2","react__WEBPACK_IMPORTED_MODULE_7___default","createElement","_material_ui_core__WEBPACK_IMPORTED_MODULE_8__","variant","gutterBottom","align","color","noValidate","autoComplete","label","helperText","margin","value","onChange","e","target","fullWidth","_TransactionButton__WEBPACK_IMPORTED_MODULE_10__","buttonInitial","method","setStatus","onConfirmation","style","marginTop","marginBottom","onClick","Component","withWeb3"],"mappings":"+MAMMA,cACJ,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACjBE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KAURQ,iBAAmB,WACjBP,EAAKD,MAAMS,iBAAiBC,QAAQC,UAAUV,EAAKD,MAAMY,SAASL,OAC/DM,KAAK,SAAAC,GACJb,EAAKc,SAAS,CAACC,cAAeF,OAdjBb,EAsBnBgB,aAtBmBf,OAAAgB,EAAA,EAAAhB,CAAAiB,EAAAC,EAAAC,KAsBJ,SAAAC,IAAA,OAAAH,EAAAC,EAAAG,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACYzB,EAAKD,MAAM2B,kBAAkBjB,QAAQkB,WAAW3B,EAAK4B,MAAMC,eAAevB,OAChGM,KAAK,SAAAkB,GACJ,OAAsC,IAAlCA,EAAQC,eAAeC,SAHlB,OAAAT,EAAAU,KAWXjC,EAAKD,MAAMS,iBAAiBC,QAAQC,UAAUV,EAAK4B,MAAMC,eAAevB,OACrEM,KAAK,SAAAC,GACW,KAAXA,EACFb,EAAKc,SAAS,CAACE,aAAc,+CAE7BhB,EAAKc,SAAS,CAACE,aAAcH,MAInCb,EAAKc,SAAS,CAACE,aAAc,4BApBlB,wBAAAO,EAAAW,SAAAb,EAAAlB,SAnBbH,EAAK4B,MAAQ,CACXb,cAAe,GACfoB,UAAW,GACXnB,aAAc,GACda,cAAe,IAPA7B,mFAmBjBG,KAAKI,oDA2BE,IAAA6B,EAAAjC,KACP,OACEkC,EAAAlB,EAAAmB,cAAA,WACED,EAAAlB,EAAAmB,cAACC,EAAA,EAAD,CAAYC,QAAQ,WAAWC,cAAY,EAACC,MAAM,SAASC,MAAM,eAC9DxC,KAAKyB,MAAMb,eAIdsB,EAAAlB,EAAAmB,cAAA,QAAMM,YAAU,EAACC,aAAa,OAC5BR,EAAAlB,EAAAmB,cAACC,EAAA,EAAD,CACEO,MAAM,aACNC,WAAW,uBACXC,OAAO,SACPC,MAAO9C,KAAKyB,MAAMO,UAClBe,SAAU,SAAAC,GAAC,OAAIf,EAAKtB,SAAS,CAACqB,UAAWgB,EAAEC,OAAOH,SAClDI,WAAS,IAEXhB,EAAAlB,EAAAmB,cAACgB,EAAA,EAAD,CACEC,cAAc,iBACdC,OAAQrD,KAAKJ,MAAMS,iBAAiBC,QAAQgD,UAAUtD,KAAKyB,MAAMO,WACjEuB,eAAgB,WACdtB,EAAK7B,uBAKX8B,EAAAlB,EAAAmB,cAAA,MAAIqB,MAAO,CAACC,UAAW,GAAIC,aAAc,MAEzCxB,EAAAlB,EAAAmB,cAACC,EAAA,EAAD,CAAYC,QAAQ,WAAWC,cAAY,EAACC,MAAM,SAASC,MAAM,eAC9DxC,KAAKyB,MAAMZ,cAGdqB,EAAAlB,EAAAmB,cAAA,QAAMM,YAAU,EAACC,aAAa,OAC5BR,EAAAlB,EAAAmB,cAACC,EAAA,EAAD,CACEO,MAAM,WACNC,WAAW,4BACXC,OAAO,SACPC,MAAO9C,KAAKyB,MAAMC,cAClBqB,SAAU,SAAAC,GAAC,OAAIf,EAAKtB,SAAS,CAACe,cAAesB,EAAEC,OAAOH,SACtDI,WAAS,IAEbhB,EAAAlB,EAAAmB,cAACC,EAAA,EAAD,CAAQC,QAAQ,YAAYG,MAAM,UAAUmB,QAAS3D,KAAKa,cAA1D,mBAxFmB+C,aAiGZC,6BAASlE","file":"static/js/4.caa290b7.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport { TextField, Typography, Button } from '@material-ui/core';\nimport { withWeb3 } from 'web3-webpacked-react';\n\nimport TransactionButton from '../../TransactionButton'\n\nclass ResolverView extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      currentStatus: '',\n      newStatus: '',\n      lookupStatus: '',\n      lookupHydroId: ''\n    }\n  }\n\n  getCurrentStatus = () => {\n    this.props.resolverContract.methods.getStatus(this.props.hydroId).call()\n      .then(status => {\n        this.setState({currentStatus: status})\n      })\n  }\n\n  componentDidMount() {\n    this.getCurrentStatus()\n  }\n\n  lookupStatus = async () => {\n    const hasHydroId = await this.props.snowflakeContract.methods.getDetails(this.state.lookupHydroId).call()\n      .then(details => {\n        if (details.ownedAddresses.length === 0) {\n          return false\n        } else {\n          return true\n        }\n      })\n\n    if (hasHydroId) {\n      this.props.resolverContract.methods.getStatus(this.state.lookupHydroId).call()\n        .then(status => {\n          if (status === '') {\n            this.setState({lookupStatus: 'Hydro ID has not added the Status Resolver'})\n          } else {\n            this.setState({lookupStatus: status})\n          }\n        })\n    } else {\n      this.setState({lookupStatus: 'Hydro ID does not exist'})\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <Typography variant='display1' gutterBottom align=\"center\" color=\"textPrimary\">\n          {this.state.currentStatus}\n        </Typography>\n\n\n        <form noValidate autoComplete=\"off\">\n          <TextField\n            label=\"New Status\"\n            helperText=\"This will be public.\"\n            margin=\"normal\"\n            value={this.state.newStatus}\n            onChange={e => this.setState({newStatus: e.target.value})}\n            fullWidth\n          />\n          <TransactionButton\n            buttonInitial='Set New Status'\n            method={this.props.resolverContract.methods.setStatus(this.state.newStatus)}\n            onConfirmation={() => {\n              this.getCurrentStatus()\n            }}\n          />\n        </form>\n\n        <hr style={{marginTop: 30, marginBottom: 30}}/>\n\n        <Typography variant='display1' gutterBottom align=\"center\" color=\"textPrimary\">\n          {this.state.lookupStatus}\n        </Typography>\n\n        <form noValidate autoComplete=\"off\">\n          <TextField\n            label=\"Hydro Id\"\n            helperText=\"View a Hydro ID's status.\"\n            margin=\"normal\"\n            value={this.state.lookupHydroId}\n            onChange={e => this.setState({lookupHydroId: e.target.value})}\n            fullWidth\n          />\n        <Button variant='contained' color='primary' onClick={this.lookupStatus}>\n            Lookup\n          </Button>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default withWeb3(ResolverView);\n"],"sourceRoot":""}